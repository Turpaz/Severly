{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/eitan/Documents/dev/javascript/Severly/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/eitan/Documents/dev/javascript/Severly/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\eitan\\\\Documents\\\\dev\\\\javascript\\\\Severly\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{Fragment,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditServer(_ref){var server=_ref.server;var _useState=useState(server._name),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(server._ip),_useState4=_slicedToArray(_useState3,2),ip=_useState4[0],setIP=_useState4[1];var _useState5=useState(server._title),_useState6=_slicedToArray(_useState5,2),title=_useState6[0],setTitle=_useState6[1];var _useState7=useState(server._ppm),_useState8=_slicedToArray(_useState7,2),ppm=_useState8[0],setPPM=_useState8[1];var updateServer=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var body,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;body={_IP:ip,_Name:name,_TypeName:title,_TypePPM:ppm};_context.next=5;return fetch(\"/update/\"+server._id,{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)});case 5:res=_context.sent;window.location=\"/\";_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.error(_context.t0.message);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function updateServer(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-primary\",\"data-toggle\":\"modal\",\"data-target\":\"#id\".concat(server._id),children:\"Edit\"}),/*#__PURE__*/_jsx(\"div\",{class:\"modal\",id:\"id\".concat(server._id),onClick:function onClick(){setName(server._name);setIP(server._ip);setTitle(server._title);setPPM(server._ppm);},children:/*#__PURE__*/_jsx(\"div\",{class:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h4\",{class:\"modal-title\",children:\"Edit Server\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"close\",\"data-dismiss\":\"modal\",onClick:function onClick(){setName(server._name);setIP(server._ip);setTitle(server._title);setPPM(server._ppm);},children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"modal-body\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,className:\"form-control mt-1\",value:name,onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,className:\"form-control mt-1\",value:ip,onChange:function onChange(e){return setIP(e.target.value);}}),/*#__PURE__*/_jsxs(\"select\",{required:true,className:\"form-control mt-1\",value:title,onChange:function onChange(e){return setTitle(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"t1.micro\",children:\"t1.micro\"}),/*#__PURE__*/_jsx(\"option\",{value:\"t1.nano\",children:\"t1.nano\"}),/*#__PURE__*/_jsx(\"option\",{value:\"t1.xl\",children:\"t1.xl\"}),/*#__PURE__*/_jsx(\"option\",{value:\"t2.xxl\",children:\"t2.xxl\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",required:true,min:0,step:0.01,className:\"form-control mt-1\",value:ppm,onChange:function onChange(e){return setPPM(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-primary\",\"data-dismiss\":\"modal\",onClick:function onClick(e){return updateServer(e);},children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-secondary\",\"data-dismiss\":\"modal\",onClick:function onClick(){setName(server._name);setIP(server._ip);setTitle(server._title);setPPM(server._ppm);},children:\"Close\"})]})]})})})]});}export default EditServer;","map":{"version":3,"sources":["C:/Users/eitan/Documents/dev/javascript/Severly/client/src/components/EditServer.js"],"names":["React","Fragment","useState","EditServer","server","_name","name","setName","_ip","ip","setIP","_title","title","setTitle","_ppm","ppm","setPPM","updateServer","e","preventDefault","body","_IP","_Name","_TypeName","_TypePPM","fetch","_id","method","headers","JSON","stringify","res","window","location","console","error","message","target","value"],"mappings":"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","sourcesContent":["import React, { Fragment, useState } from \"react\";\r\n\r\nfunction EditServer({ server }) {\r\n\tconst [name, setName] = useState(server._name);\r\n\tconst [ip, setIP] = useState(server._ip);\r\n\tconst [title, setTitle] = useState(server._title);\r\n\tconst [ppm, setPPM] = useState(server._ppm);\r\n\r\n\tconst updateServer = async (e) => {\r\n\t\te.preventDefault();\r\n\t\ttry {\r\n\t\t\tconst body = {\r\n\t\t\t\t_IP: ip,\r\n\t\t\t\t_Name: name,\r\n\t\t\t\t_TypeName: title,\r\n\t\t\t\t_TypePPM: ppm,\r\n\t\t\t};\r\n\t\t\tconst res = await fetch(\"/update/\" + server._id, {\r\n\t\t\t\tmethod: \"PUT\",\r\n\t\t\t\theaders: { \"Content-Type\": \"application/json\" },\r\n\t\t\t\tbody: JSON.stringify(body),\r\n\t\t\t});\r\n\r\n\t\t\twindow.location = \"/\";\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(err.message);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<button\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t\tclass=\"btn btn-primary\"\r\n\t\t\t\tdata-toggle=\"modal\"\r\n\t\t\t\tdata-target={`#id${server._id}`}\r\n\t\t\t>\r\n\t\t\t\tEdit\r\n\t\t\t</button>\r\n\r\n\t\t\t<div\r\n\t\t\t\tclass=\"modal\"\r\n\t\t\t\tid={`id${server._id}`}\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tsetName(server._name);\r\n\t\t\t\t\tsetIP(server._ip);\r\n\t\t\t\t\tsetTitle(server._title);\r\n\t\t\t\t\tsetPPM(server._ppm);\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<div class=\"modal-dialog\">\r\n\t\t\t\t\t<div class=\"modal-content\">\r\n\t\t\t\t\t\t<div class=\"modal-header\">\r\n\t\t\t\t\t\t\t<h4 class=\"modal-title\">Edit Server</h4>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\tclass=\"close\"\r\n\t\t\t\t\t\t\t\tdata-dismiss=\"modal\"\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetName(server._name);\r\n\t\t\t\t\t\t\t\t\tsetIP(server._ip);\r\n\t\t\t\t\t\t\t\t\tsetTitle(server._title);\r\n\t\t\t\t\t\t\t\t\tsetPPM(server._ppm);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t&times;\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"modal-body\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tclassName=\"form-control mt-1\"\r\n\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tclassName=\"form-control mt-1\"\r\n\t\t\t\t\t\t\t\tvalue={ip}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setIP(e.target.value)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tclassName=\"form-control mt-1\"\r\n\t\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setTitle(e.target.value)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<option value=\"t1.micro\">t1.micro</option>\r\n\t\t\t\t\t\t\t\t<option value=\"t1.nano\">t1.nano</option>\r\n\t\t\t\t\t\t\t\t<option value=\"t1.xl\">t1.xl</option>\r\n\t\t\t\t\t\t\t\t<option value=\"t2.xxl\">t2.xxl</option>\r\n\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\tstep={0.01}\r\n\t\t\t\t\t\t\t\tclassName=\"form-control mt-1\"\r\n\t\t\t\t\t\t\t\tvalue={ppm}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setPPM(e.target.value)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"modal-footer\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\tclass=\"btn btn-primary\"\r\n\t\t\t\t\t\t\t\tdata-dismiss=\"modal\"\r\n\t\t\t\t\t\t\t\tonClick={(e) => updateServer(e)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\tclass=\"btn btn-secondary\"\r\n\t\t\t\t\t\t\t\tdata-dismiss=\"modal\"\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetName(server._name);\r\n\t\t\t\t\t\t\t\t\tsetIP(server._ip);\r\n\t\t\t\t\t\t\t\t\tsetTitle(server._title);\r\n\t\t\t\t\t\t\t\t\tsetPPM(server._ppm);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tClose\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Fragment>\r\n\t);\r\n}\r\n\r\nexport default EditServer;\r\n"]},"metadata":{},"sourceType":"module"}